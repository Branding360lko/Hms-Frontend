"use strict";(self.webpackChunkhospital_management_system=self.webpackChunkhospital_management_system||[]).push([[4071],{1948:(e,a,l)=>{l.d(a,{Z:()=>i});var s=l(2791),d=l(6932),t=l(184);const i=function(e){var a;let{data:l,config:i,keyFn:n}=e;console.log(l,i,"fgfgf");const[o,r]=(0,s.useState)(0),[c,m]=(0,s.useState)(5),x=null===i||void 0===i?void 0:i.map((e=>e.header?(0,t.jsx)(s.Fragment,{children:null===e||void 0===e?void 0:e.header()},null===e||void 0===e?void 0:e.label):(0,t.jsx)("th",{className:"text-center px-[4px] border-b-[1px] p-[10px]",children:e.label},e.label))),p=null===l||void 0===l||null===(a=l.slice(o*c,o*c+c))||void 0===a?void 0:a.map(((e,a)=>{const l=null===i||void 0===i?void 0:i.map(((a,l)=>(0,t.jsx)("td",{className:"justify-center text-[12px] py-4 px-[4px] text-center border-b-[1px]",children:null===a||void 0===a?void 0:a.render(e)},"column-".concat(l))));return(0,t.jsx)("tr",{className:"",children:l},n(e))}));return(0,t.jsxs)("div",{children:[(0,t.jsxs)("table",{className:"w-full table-auto border-spacing-2 text-[#595959] font-[300]",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b-[1px]",children:x})}),(0,t.jsx)("tbody",{children:p})]}),(0,t.jsx)(d.Z,{page:o,rowsPerPage:c,handleChangePage:(e,a)=>{r(a)},handleChangeRowsPerPage:e=>{m(parseInt(e.target.value,10)),r(0)},data:l})]})}},4071:(e,a,l)=>{l.r(a),l.d(a,{default:()=>b});var s=l(2791),d=l(1948),t=l(2202),i=l(2942),n=l(4420),o=l(6029),r=l(890),c=l(5711),m=l(9955),x=l(9245),p=l(7761),u=l(3712),v=l(9261),h=l(184);function b(){const e=(0,n.I0)(),{Admins:a}=(0,n.v9)((e=>e.AdminState)),{doctors:l}=(0,n.v9)((e=>e.DoctorState)),{nurses:b}=(0,n.v9)((e=>e.NurseState)),[j,f]=(0,x.V3)(),[g,N]=(0,x.eM)(),[S,y]=(0,x.Tv)(),[w,E]=s.useState(""),[C,A]=s.useState(""),[D,I]=s.useState(""),[Z,R]=s.useState("Doctor"),[F,P]=s.useState(""),[k,U]=s.useState({value:"",label:""}),[q,L]=s.useState(!1),[M,_]=s.useState(""),T=()=>{L(!0)},[B,O]=s.useState(!1),[H,K]=s.useState(""),Q=()=>{O(!0)},V=null===l||void 0===l?void 0:l.map((e=>({value:e.doctorId,label:"".concat(e.doctorId," / ").concat(e.doctorName)}))),W=null===b||void 0===b?void 0:b.map((e=>({value:e.nurseId,label:"".concat(e.nurseId," / ").concat(e.nurseName)}))),Y=e=>new Date(e).toLocaleDateString(),z=e=>new Date(e).toLocaleTimeString(),G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",height:"90%",bgcolor:"background.paper",borderRadius:"12px",border:"none",outline:"none",boxShadow:24,p:4},[J,X]=s.useState(!1),$=()=>X(!1);s.useEffect((()=>{var a;if(f.isSuccess)e((0,p.mS)(Math.random())),_(null===f||void 0===f||null===(a=f.data)||void 0===a?void 0:a.message),$(),T(),A(""),I(""),R("Doctor"),P("");else if(f.isError){var l;K(null===f||void 0===f||null===(l=f.error)||void 0===l?void 0:l.data),Q()}}),[f.isSuccess,f.isError]);const ee=(0,h.jsxs)("div",{className:"flex flex-col w-full text-[#3E454D] gap-[2rem] overflow-y-scroll px-[10px] pb-[2rem] h-[450px]",children:[(0,h.jsx)("h2",{className:"border-b py-[1rem]",children:"User Information"}),(0,h.jsxs)("form",{className:"flex flex-col gap-[1rem]",onSubmit:e=>{if(e.preventDefault(),"Doctor"===Z||"Nurse"===Z){const e={adminName:C,adminEmail:D,adminPassword:F,adminRole:Z,adminUniqueId:null===k||void 0===k?void 0:k.value};j(e)}else{j({adminName:C,adminEmail:D,adminPassword:F,adminRole:Z})}},children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-[2rem] border-b pb-[3rem]",children:[(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Name *"}),(0,h.jsx)("input",{className:"py-[10px] outline-none border-b",type:"text",required:!0,placeholder:"Enter name",value:C,onChange:e=>A(e.target.value)})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Email Id *"}),(0,h.jsx)("input",{className:"py-[10px] outline-none border-b",type:"email",required:!0,placeholder:"Enter email id",autocomplete:"off",value:D,onChange:e=>I(e.target.value)})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Role *"}),(0,h.jsxs)("select",{required:!0,value:Z,onChange:e=>R(e.target.value),className:"py-[11.5px] outline-none border-b bg-transparent",children:[(0,h.jsx)("option",{children:"Super Admin"}),(0,h.jsx)("option",{children:"Doctor"}),(0,h.jsx)("option",{children:"HR"}),(0,h.jsx)("option",{children:"Emergency"}),(0,h.jsx)("option",{children:"Receptionist"}),(0,h.jsx)("option",{children:"Pharmacist"}),(0,h.jsx)("option",{children:"Accountant"}),(0,h.jsx)("option",{children:"Nurse"}),(0,h.jsx)("option",{children:"Radiologist"}),(0,h.jsx)("option",{children:"Laboratory Assistant"})]})]}),"Doctor"===Z&&(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Select Doctor *"}),(0,h.jsx)(v.ZP,{options:V,onChange:U,required:!0})]}),"Nurse"===Z&&(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Select Nurse *"}),(0,h.jsx)(v.ZP,{options:W,onChange:U,required:!0})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Password *"}),(0,h.jsx)("input",{className:"py-[10px] outline-none border-b",type:"password",required:!0,minLength:6,autoComplete:"new-password",placeholder:"Enter password",value:F,onChange:e=>P(e.target.value)})]})]}),(0,h.jsx)("button",{type:"submit",className:"buttonFilled w-fit",children:"Save >"})]})]}),[ae,le]=s.useState(!1),se=()=>{le(!1)};s.useEffect((()=>{var a;if(N.isSuccess)e((0,p.TY)(Math.random())),_(null===N||void 0===N||null===(a=N.data)||void 0===a?void 0:a.message),se(),T();else if(N.isError){var l;K(null===N||void 0===N||null===(l=N.error)||void 0===l?void 0:l.data),Q()}}),[N.isSuccess,N.isError]);const de=(0,h.jsxs)("div",{className:"flex flex-col w-full text-[#3E454D] gap-[2rem] overflow-y-scroll px-[10px] pb-[2rem] h-[450px]",children:[(0,h.jsx)("h2",{className:"border-b py-[1rem]",children:"User Information"}),(0,h.jsxs)("form",{className:"flex flex-col gap-[1rem] ",onSubmit:e=>{e.preventDefault();g({id:w,data:{adminName:C,adminRole:Z,adminPassword:F}})},children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-[2rem] border-b pb-[3rem]",children:[(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Name *"}),(0,h.jsx)("input",{className:"py-[10px] outline-none border-b",type:"text",required:!0,placeholder:"Enter name",value:C,onChange:e=>A(e.target.value)})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Email Id *"}),(0,h.jsx)("input",{className:"py-[10px] outline-none border-b",type:"email",disabled:!0,placeholder:"Enter email id",value:D,onChange:e=>I(e.target.value)})]}),(0,h.jsxs)("div",{className:"flex flex-col gap-[6px]",children:[(0,h.jsx)("label",{className:"text-[14px]",children:"Password *"}),(0,h.jsx)("input",{className:"py-[10px] outline-none border-b",type:"password",placeholder:"Enter password",autoComplete:"new-password",minLength:6,value:F,onChange:e=>P(e.target.value)})]})]}),(0,h.jsx)("button",{type:"submit",className:"buttonFilled w-fit",children:"Save >"})]})]}),[te,ie]=s.useState(""),ne=null===a||void 0===a?void 0:a.filter((e=>{if(""!==te){var a;const l=te.toLowerCase(),s=null===e||void 0===e||null===(a=e.adminEmail)||void 0===a?void 0:a.toLowerCase();return null===s||void 0===s?void 0:s.startsWith(l)}return e})),oe=null===ne||void 0===ne?void 0:ne.map(((e,a)=>({tableId:a+1,adminId:null===e||void 0===e?void 0:e.adminId,adminName:null===e||void 0===e?void 0:e.adminName,adminEmail:null===e||void 0===e?void 0:e.adminEmail,adminRole:null===e||void 0===e?void 0:e.adminRole,isActive:null===e||void 0===e?void 0:e.isActive,createdAt:null===e||void 0===e?void 0:e.createdAt,updatedAt:null===e||void 0===e?void 0:e.updatedAt})));console.log(oe),s.useEffect((()=>{var a;if(y.isSuccess)e((0,p.tQ)(Math.random())),_(null===y||void 0===y||null===(a=y.data)||void 0===a?void 0:a.message),T();else if(y.isError){var l;O(null===y||void 0===y||null===(l=y.error)||void 0===l?void 0:l.data),O()}}),[y.isSuccess,y.isError]);const re=[{label:"S No.",render:e=>e.tableId},{label:"User Name",render:e=>e.adminName},{label:"Email",render:e=>e.adminEmail},{label:"Date Created",render:e=>"".concat(Y(e.createdAt)," - ").concat(z(e.createdAt))},{label:"Date Updated",render:e=>"".concat(Y(e.updatedAt)," - ").concat(z(e.updatedAt))},{label:"Role",render:e=>e.adminRole},{label:"Status",render:e=>(0,h.jsx)(m.Z,{onChange:a=>S({id:e.adminId,data:{isActive:a.target.checked}}),defaultChecked:e.isActive})},{label:"Action",render:e=>(0,h.jsx)("div",{className:"flex gap-[10px] justify-center",children:(0,h.jsx)("div",{onClick:()=>{return E(null===(a=e)||void 0===a?void 0:a.adminId),A(null===a||void 0===a?void 0:a.adminName),I(null===a||void 0===a?void 0:a.adminEmail),R(null===a||void 0===a?void 0:a.adminRole),void le(!0);var a},className:"p-[4px] h-fit w-fit border-[2px] border-[#3497F9] rounded-[12px] cursor-pointer",children:(0,h.jsx)(i.cpK,{className:"text-[25px] text-[#3497F9]"})})})}];return(0,h.jsxs)(s.Suspense,{fallback:(0,h.jsx)(h.Fragment,{children:"..."}),children:[(0,h.jsxs)("div",{className:"flex flex-col gap-[1rem] p-[1rem]",children:[(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("h2",{className:"border-b-[4px] border-[#3497F9]",children:"Authenticated Users"}),(0,h.jsx)("button",{onClick:()=>{A(""),I(""),R("Doctor"),P(""),X(!0)},className:"bg-[#3497F9] text-white p-[10px] rounded-md",children:"+ Add User"})]}),(0,h.jsx)("div",{className:"flex justify-between",children:(0,h.jsxs)("div",{className:"flex gap-[10px] bg-[#F4F6F6] items-center p-[10px] rounded-[18px]",children:[(0,h.jsx)(t.U41,{className:"text-[#56585A]"}),(0,h.jsx)("input",{className:"bg-transparent outline-none",placeholder:"Search by email id",onChange:e=>ie(e.target.value)})]})}),(0,h.jsx)(d.Z,{data:oe,config:re,keyFn:e=>e.adminEmail})]}),(0,h.jsx)(c.Z,{open:J,onClose:$,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,h.jsxs)(o.Z,{sx:G,children:[(0,h.jsx)(r.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:(0,h.jsx)("h1",{className:"headingBottomUnderline w-fit pb-[10px]",children:"Add User"})}),(0,h.jsx)(r.Z,{id:"modal-modal-description",sx:{mt:2},children:ee})]})}),(0,h.jsx)(c.Z,{open:ae,onClose:se,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,h.jsxs)(o.Z,{sx:G,children:[(0,h.jsx)(r.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:(0,h.jsx)("h1",{className:"headingBottomUnderline w-fit pb-[10px]",children:"Edit User"})}),(0,h.jsx)(r.Z,{id:"modal-modal-description",sx:{mt:2},children:de})]})}),(0,h.jsx)(u.Z,{open:q,setOpen:L,severity:"success",message:M}),(0,h.jsx)(u.Z,{open:B,setOpen:O,severity:"warning",message:H})]})}}}]);
//# sourceMappingURL=4071.f785b135.chunk.js.map